<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="./style.css" rel="stylesheet">
    <link rel="shortcut icon" href="./favicon.ico">

    <title>when in nyc</title>
  </head>
  <body onload="onLoad()">
    <main>
      <section class="favorite">
        <h2><span>My</span> Fave <br/>✜ ✜ ✜</h2>
      </section>
      <section class="items">
        <div class="wrapper">
          <aside id="eats"><h2>Eats</h2></aside>
          <article id="eatseats">
            <ul>
              <li id="veryfreshnoodles"><a href="https://goo.gl/maps/4zMLtBN7xtH2" target="_blank">Very Fresh Noodles (Chelsea)</a></li>
              <li id="jeju"><a href="https://goo.gl/maps/rHB2X9eZYkM2" target="_blank">Jeju Noodle Bar (West Village)</a></li>
              <li id="xian"><a href="https://www.google.com/maps/search/xian+famous+foods/@40.7420826,-74.0229937,14z/data=!3m1!4b1" target="_blank">Xi'an Famous Foods (Multiple)</a></li>
              <li id="babuji"><a href="https://goo.gl/maps/p6Py87C7VNR2" target="_blank">Babu Ji (Union Sq)</a></li>
              <li id="russ"><a href="https://www.google.com/maps/search/russ+and+daughters/@40.7347447,-74.0106361,14z/data=!3m1!4b1" target="_blank">Russ & Daughters (LES)</a></li>
              <li id="congeevillage"><a href="https://www.google.com/maps/search/congee+village/@40.7098265,-74.0690566,11z/data=!3m1!4b1" target="_blank">Congee Village (LES + Flushing)</a></li>
              <li id="abcv"><a href="https://goo.gl/maps/pE7EPFTfcsB2" target="_blank">abcv (Union Sq)</a></li>
              <li id="besfren"><a href="https://goo.gl/maps/crXo1Rs6Dgw" target="_blank">Besfren (KTown)</a></li>
              <li id="okonomi"><a href="https://goo.gl/maps/38R6oNTaEm42" target="_blank">OKONOMI (Williamsburg)</a></li>
              <li id="llamainn"><a href="https://goo.gl/maps/YYfbxnRKvcP2" target="_blank">Llama Inn (Williamsburg)</a></li>
              <li id="japanvillage"><a href="https://goo.gl/maps/MFTwdxPxMNk" target="_blank">Japan Village (Industry City)</a></li>
              <li id="gentile"><a href="https://goo.gl/maps/rrTZtudNABR2" target="_blank">Gelateria Gentile (Brooklyn)</a></li>
              <li id="katz"><a href="https://goo.gl/maps/Bw1Aq7LGwc22" target="_blank">Katz's Deli (LES)</a></li>
              <li id="littlealley"><a href="https://goo.gl/maps/7aoY2VCu5bG2" target="_blank">Little Alley (Midtown)</a></li>
              <li id="nur"><a href="https://goo.gl/maps/Fji7sRibtoF2" target="_blank">Nur (Union Sq)</a></li>
              <li id="bigwong"><a href="https://goo.gl/maps/9M2LVFxRrgv" target="_blank">Big Wong (Chinatown)</a></li>
              <li id="vanessas"><a href="https://goo.gl/maps/qNVMVukDMXG2" target="_blank">Vanessa's Dumplings (LES)</a></li>
              <li id="ise"><a href="https://goo.gl/maps/dZFxoto5Fzz" target="_blank">ISE (East Village)</a></li>
              <li id="bastapasta"><a href="https://goo.gl/maps/jXjEE4CUb1T2" target="_blank">Basta Pasta (Union Sq)</a></li>
            </ul>
          </article>
        </div>

        <div class="wrapper">
          <aside id="art"><h2>Art</h2></aside>
          <article id="artart">
            <ul>
              <li id="thehole"><a href="https://goo.gl/maps/4ZLsT48TTiF2" target="_blank">The Hole (Nolita)</a></li>
              <li id="whitney"><a href="https://goo.gl/maps/EgCshg6dnFy" target="_blank">Whitney Museum (Chelsea)</a></li>
              <li id="moma"><a href="https://goo.gl/maps/gfv3FvjdUMr" target="_blank">MoMA (Midtown)</a></li>
              <li id="frick"><a href="https://goo.gl/maps/ek1TSeLDAGJ2" target="_blank">The Frick Collection (UES)</a></li>
              <li id="met"><a href="https://www.google.com/maps/search/met/@40.7764321,-73.9657134,17z/data=!3m1!4b1" target="_blank">Main Met + Met Breuer (UES)</a></li>
              <li id="cloisters"><a href="https://goo.gl/maps/PangBjt4XEs" target="_blank">The Met Cloisters (Fort George)</a></li>
              <li id="cooperhewitt"><a href="https://goo.gl/maps/shMkKQBEjg22" target="_blank">Cooper Hewitt (UES)</a></li>
              <li id="guggenheim"><a href="https://goo.gl/maps/cKVHc9vUret" target="_blank">Guggenheim (UES)</a></li>
              <li id="ps1"><a href="https://goo.gl/maps/jZnvp2zBsB62" target="_blank">MoMA PS1 (Long Island City)</a></li>
              <li id="noguchi"><a href="https://goo.gl/maps/7pjC6ZuaU222" target="_blank">Noguchi Museum (Long Island City)</a></li>
              <!-- <li id="asdf"><a href="fdsasdf" target="_blank">aaaaaaaaaa</a></li> -->
            </ul>
          </article>
        </div>

        <div class="wrapper">
          <aside id="places"><h2>Places</h2></aside>
          <article id="placesplaces">
            <ul>
              <li id="mnz"><a href="https://goo.gl/maps/h6HLfT5eLeH2" target="_blank">Maryam Nassir Zadeh (LES)</a></li>
              <li id="dimes"><a href="https://goo.gl/maps/uZLUK95WpQM2" target="_blank">Dimes (LES)</a></li>
              <li id="dimesmarket"><a href="https://goo.gl/maps/QEeCoZnhJnx" target="_blank">Dimes Market (LES)</a></li>
              <li id="chopsueyclub"><a href="https://goo.gl/maps/3eaw4GVUuHk" target="_blank">Chop Suey Club (LES)</a></li>
              <li id="highline"><a href="https://goo.gl/maps/dehHNu6Lwj72" target="_blank">High Line (Chelsea)</a></li>
              <li id="totokaelo"><a href="https://goo.gl/maps/6LPNYV28iLG2" target="_blank">Totokaelo (Soho)</a></li>
              <li id="costco"><a href="https://goo.gl/maps/sCWD9UxT39r" target="_blank">Costco (Brooklyn)</a></li>
              <li id="kinokuniya"><a href="https://goo.gl/maps/nYn13PCfLAN2" target="_blank">Kinokuniya (Bryant Park)</a></li>
              <li id="carousel"><a href="https://goo.gl/maps/stjF4PGd6ur" target="_blank">Jane's Carousel (Dumbo)</a></li>
              <li id="moodfabrics"><a href="https://goo.gl/maps/Px2XdJZxHEJ2" target="_blank">Mood Fabrics (Garment District)</a></li>
              <li id="sunrisemart"><a href="https://www.google.com/maps/search/sunrise+mart/@40.7537545,-74.007958,14z/data=!3m1!4b1" target="_blank">Sunrise Mart (East/West Village)</a></li>
              <li id="dsm"><a href="https://goo.gl/maps/xA8hRVtpU3z" target="_blank">Dover Street Market (Midtown)</a></li>
              <li id="royce"><a href="https://goo.gl/maps/FjEf4FUkEfw" target="_blank">Royce Chocolates (Bryant Park)</a></li>
              <li id="linefriends"><a href="https://goo.gl/maps/RLz6BCft3WG2" target="_blank">Line Friends Store (Times Sq)</a></li>
              <li id="dominiqueansel"><a href="https://goo.gl/maps/4XQfwvBDjfM2" target="_blank">Dominique Ansel Bakery (Greenwich)</a></li>
              <li id="hunanslurp"><a href="https://goo.gl/maps/66YeTFzobx72" target="_blank">Hunan Slurp (East Village)</a></li>
              <!-- <li id="asdf"><a href="fdsasdf" target="_blank">aaaaaaaaaa</a></li> -->
            </ul>
          </article>
        </div>

        <div class="wrapper">
          <aside id="spas"><h2>Spa</h2></aside>
          <article id="spasspas">
            <ul>
              <li id="aire"><a href="https://goo.gl/maps/YPVQ4CYX5Dy" target="_blank">Aire Ancient Baths (Tribeca)</a></li>
              <!-- <li id="asdf"><a href="fdsasdf" target="_blank">aaaaaaaaaa</a></li> -->
            </ul>
          </article>
        </div>
      </section>
    </main>

    <footer>✜✜✜</footer>
  </body>

  <script type="text/javascript">
    const body = document.getElementsByTagName('body')[0];
    let _limit = 10;

    function genRGBA() {
      return `
        rgba(
          ${Math.round(Math.random()*255)},
          ${Math.round(Math.random()*255)},
          ${Math.round(Math.random()*255)}, 0.8
        )
      `;
    }

    function createImages(item, i) {
      const newImage = document.createElement('img');
      newImage.id = `img-${item.id}`;
      newImage.style.width = '200px';

      const positionX = (((i % 18) + 1) * 15) + 50;
      const positionY = ((i + 1) * 5) + 30;

      if (newImage) {
        newImage.style.right = `${positionX}px`;
        newImage.style.top = `${positionY}px`;
        newImage.style.borderColor = genRGBA();
      }

      if (![
        'xian',
        'congeevillage',
        'llamainn',
        'katz',
        'littlealley',
        'vanessas',
        'cooperhewitt',
        'dimesmarket',
        'totokaelo',
        'costco',
        'kinokuniya',
        'carousel',
        'sunrisemart',
        'dsm',
        'royce',
        'linefriends',
        'aire'
      ].includes(item.id)) {
        newImage.src = `./images/${item.id}.jpeg`;
        body.appendChild(newImage);
      }
    }

    function notHovering(image) {
      if (image) {
        image.style.zIndex = 0;
        image.style.opacity = 0.5;
        body.classList.add('notHoveringImage');
        // image.style.width = '150px';
      }
    }

    function seeImage(id) {
      [...document.getElementsByTagName('img')].map(image => {
        notHovering(image);
      });

      const itemImage = document.getElementById(id);
      if (itemImage) {
        itemImage.style.zIndex = 9;
        itemImage.style.opacity = 1;
        body.classList.remove('notHoveringImage');
        // itemImage.style.width = '300px';
      }
    }

    function setBackgroundColor() {
      body.style.backgroundColor = `
        rgba(
          ${Math.round(Math.random()*255)},
          ${Math.round(Math.random()*255)},
          ${Math.round(Math.random()*255)}, 0.2
        )
      `;
    }

    function setSectionHeights() {
      [...document.getElementsByTagName('aside')].map((section, i) => {
        const sectionContent = document.getElementById(`${section.id}${section.id}`);
        section.style.height = `${sectionContent.offsetHeight}px`
      });
    }

    function onLoad() {
      setSectionHeights();
      setBackgroundColor();

      [...document.getElementsByTagName('li')].map((item, i) => {
        createImages(item, i);
        item.addEventListener("mouseleave", function() {
          const imageId = `img-${item.id}`
          notHovering(document.getElementById(imageId));
        });
        item.addEventListener("mouseover", function() {
          if (_limit === 0) {
            setBackgroundColor();
            _limit = 10;
          } else {
            _limit--;
          }

          seeImage(`img-${item.id}`);
        });
      })
    }
  </script>
</html>
